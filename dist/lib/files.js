import n from"fast-glob";import{fileURLToPath as f}from"url";import e from"./apply-to.js";class l{paths=new Map;results=new Map;in(o){const i=e(e(o,t=>t instanceof URL?f(t):t),t=>t.endsWith("/")?t:`${t}/`);if(i instanceof Map)for(const[t,s]of i)this.paths.set(t,s);else this.paths.set(i,i);return this}async by(o){for(const[i,t]of this.paths)for(const s of await n(`${o}`,{cwd:i,onlyFiles:!0}))this.results.set(`${t}${s}`,`${i}${s}`);return this}not(o){let i=new Set;if(typeof o<"u")if(o instanceof Array||o instanceof Set)for(const t of o)i.add(t);else i.add(o);for(const t of i){if(typeof t=="string")for(const s of this.results)(s[0].match(t)||s[1].match(t))&&this.results.delete(s[0]);if(typeof t=="function")for(const s of this.results)(t(s[0])||t(s[1]))&&this.results.delete(s[0])}return this}}export{l as default};
